<div class="max-w-7xl mx-auto p-6">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
    <!-- Product Gallery -->
    <div>
      <!-- Main Image -->
      <div
        class="w-full h-[400px] bg-gray-100 rounded-2xl flex items-center justify-center"
      >
        <img
          [src]=" uploadsPath + selectedImage"
          alt="Product"
          class="object-cover rounded-2xl h-full"
        />
      </div>

      <!-- Thumbnails -->
      <div class="flex gap-3 mt-4">
        <div
          *ngFor="let thumb of product.images"
          class="w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center cursor-pointer hover:ring-2 hover:ring-indigo-500"
          (click)="changeImage(thumb)"
        >
          <img
            [src]="uploadsPath + thumb"
            alt="Thumbnail"
            class="object-cover rounded-lg w-full h-full"
          />
        </div>
      </div>
    </div>

    <!-- Product Info -->
    <div>
      <!-- Name -->
      <h1 class="text-3xl font-bold text-gray-900">{{ product.name }}</h1>

      <!-- Price -->
      <p class="text-2xl text-indigo-600 font-semibold mt-2">
  ₹{{ product.price - product.discount }}
  <span
    *ngIf="product.discount > 0"
    class="text-sm text-gray-500 line-through ml-2"
  >
    ₹{{ product.price }}
  </span>
  <span
    *ngIf="product.discount > 0"
    class="text-sm text-orange-600 font-medium ml-2"
  >
    -₹{{ product.discount }} OFF
  </span>
</p>


      <!-- Description -->
      <p class="mt-4 text-gray-600 leading-relaxed">
        {{ product.description }}
      </p>

      <!-- Add to Cart Button -->

      <div class="flex gap-7"> <button mat-fab  aria-label="Add to Wishlist" (click)="addToWishlist(product)">
      @if (isInWishList(product)) {      <mat-icon class="text-red-500">favorite</mat-icon>
}@else {      <mat-icon>favorite_border</mat-icon>
}
    </button>
      <button
        class="mt-6 w-full md:w-auto px-6 py-3 bg-indigo-600 text-white rounded-xl shadow hover:bg-indigo-700 transition"
              (click)="addToCart(product)"

      >
    @if(isProductInCart(product._id!)){
Remove From Cart
    }
    @else{      Add to Cart
}      </button></div>

      <!-- Product Details -->
      <div class="mt-8">
        <h2 class="text-xl font-semibold text-gray-800 mb-3">
          Product Details
        </h2>
        <ul class="space-y-2 text-gray-600">
          <li>✔️ Short Description: {{ product.shortDescription }}</li>
          <li>✔️ Featured: {{ product.isFeatured ? "Yes" : "No" }}</li>
          <li>✔️ New Product: {{ product.isNewProduct ? "Yes" : "No" }}</li>
          <li>✔️ Brand ID: {{ product.brandId }}</li>
          <li>✔️ Category ID: {{ product.categoryId }}</li>
        </ul>
      </div>
    </div>
  </div>
<div *ngIf="similarProducts.length>0">
    <div class="mt-3 px-3">
  <h4 style="font-size: 24px; font-weight: bold; margin-bottom: 16px">
    Similar Products
  </h4>
  <div class="row g-3">
    <div class="col-12 col-sm-6 col-md-3" *ngFor="let item of similarProducts">
      <app-product-card [item]="item"></app-product-card>
    </div>
  </div>
</div>
</div>

  <!-- Reviews Section (optional for future) -->
  <div class="mt-12" *ngIf="product.reviews?.length">
    <h2 class="text-2xl font-bold text-gray-900 mb-4">Customer Reviews</h2>
    <div class="space-y-6">
      <div
        *ngFor="let review of product.reviews"
        class="p-5 border rounded-xl shadow-sm bg-white"
      >
        <div class="flex items-center gap-2">
          <span class="font-semibold text-gray-800">{{ review.user }}</span>
          <span class="text-yellow-500">{{ review.rating }}</span>
        </div>
        <p class="mt-2 text-gray-600">{{ review.comment }}</p>
      </div>
    </div>
  </div>


</div>
